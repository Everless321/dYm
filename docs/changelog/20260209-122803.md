# Fix: Web Migration Build Errors

## Task
修复 web migration 分支中 server 和 web 两个包的 TypeScript 编译错误

## Changes

### Server Package (`packages/server`)
- **`src/routes/users.ts`**: 提取 `extractUserData()` 辅助函数，修复 4 处 dy-downloader 返回值 `_data.user` 的类型断言语法错误

### Web Package (`packages/web`)
- **`tsconfig.json`**: 移除 `references` 和 `rootDir`，改为 `include: ["src", "../shared/src"]` 直接包含共享类型
- **`src/components/MediaViewer.tsx`**: 将不存在的 `share_url` 替换为 `aweme_id` 构造抖音链接
- **`src/assets/base.css`**: 从 Electron 源码复制缺失的 CSS 基础样式文件

## Result
- Server: `tsc --noEmit` 零错误
- Web: `tsc --noEmit` 零错误，`vite build` 成功
