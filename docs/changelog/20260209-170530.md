# 2026-02-09 17:05:30 - 用户删除增强 + 文件管理页面

## 需求
1. 删除用户时可选是否同时删除已下载文件
2. 新增独立的文件管理页面，支持视频预览和文件删除

## 待办
- [x] database: deleteUser 级联删除 posts 记录
- [x] main/index.ts: user:delete IPC 增加 deleteFiles 参数
- [x] preload: 更新 user.delete API 签名
- [x] UsersPage: 删除确认对话框 + 删除文件复选框
- [x] main/index.ts: 新增文件管理相关 IPC handlers
- [x] preload: 新增 filesAPI
- [x] FilesPage.tsx: 文件管理页面（视频预览 + 文件删除）
- [x] routes + AppLayout: 新增路由和侧边栏入口

## 变更文件
- `src/main/database/index.ts` — deleteUser 级联删除 posts/task_users，新增 deletePost/deletePostsByUserId
- `src/main/index.ts` — user:delete 支持 deleteFiles，新增 files:* IPC handlers
- `src/preload/index.ts` — user.delete 增加参数，新增 filesAPI
- `src/preload/index.d.ts` — UserAPI.delete 签名更新，新增 FilesAPI 接口
- `src/renderer/src/pages/settings/UsersPage.tsx` — 删除确认对话框 + 删除文件复选框
- `src/renderer/src/pages/settings/FilesPage.tsx` — 新建文件管理页面
- `src/renderer/src/routes/index.tsx` — 添加 /files 路由
- `src/renderer/src/components/AppLayout.tsx` — 侧边栏新增"文件管理"入口

## 结果
- 删除用户时弹出确认对话框，可勾选"同时删除已下载文件"，勾选后会删除磁盘上的文件和数据库记录
- 新增文件管理页面（侧边栏 HardDrive 图标），按用户筛选展示已下载作品
- 文件管理页面支持：视频/图片预览（MediaViewer）、单个删除、批量选择删除、清空用户文件
- TypeScript 编译零错误
